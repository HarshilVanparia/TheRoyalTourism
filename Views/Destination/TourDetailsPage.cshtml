@model TheRoyalTourism.Models.AdminDataTablesViewModel
@{
    ViewData["Title"] = "TourDetailsPage";
    if (Context.Session.GetString("UserEmail") == null)
    {
        Context.Response.Redirect("/Register/LoginPage");
    }
}

<div class="container">
    <div class="m-3 mt-5 d-flex gap-2 ">
        <h5 class="normal-text">
            Home
        </h5>
        <i class="bi bi-chevron-right fw-bold fs-5"></i>
        <h5 class="normal-text">
            Tours
        </h5>
        <i class="bi bi-chevron-right fw-bold fs-5"></i>
        <h5 class="normal-text">
            Goa
        </h5>
    </div>
</div>

@* Tour Details Page *@
@foreach (var t in Model.Tour)
{
    <section class="container">

        <div class="d-flex ">
            <div class="m-3  d-flex gap-2 tourtags  px-3 py-2">
                <img src="/Images/tourlocation.svg">
                <h5 class="mt-1">
                    Pickup - @t.Tpickup
                </h5>
            </div>

            <div class="m-3  d-flex gap-2 tourlocation  px-3 py-2">
                <img src="/Images/airtime.svg">
                <h5 class="mt-1 normal-text">
                    @t.Tday N
                </h5>
            </div>
        </div>

        <div class="m-3 mt-3  ">
            <h1 class="main-text">@t.Tname</h1>
        </div>

        @* 4 images *@
        <div class="container">
            <div class="row g-1">
                <div class="col-md-6">
                    <div class="img-container large">
                        <img src="~/uploads/@t.Timg1" alt="@t.Timg1" width="98%">
                    </div>
                </div>
                <div class="col-md-6 d-flex flex-column justify-content-between">
                    <div class="img-container small">
                        <img src="~/uploads/@t.Timg2" width="97%" alt="@t.Timg2">
                    </div>
                    <div class="row g-3 mt-2">
                        <div class="col-md-6">
                            <div class="img-container small">
                                <img src="~/uploads/@t.Timg3" width="95%" alt="@t.Timg3">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="img-container small">
                                <img src="~/uploads/@t.Timg4" width="95%" alt="@t.Timg4">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        @* 4 images *@

        @* tabs *@
        <div class="px-2 mt-4">
            <!-- Navigation Tabs -->
            <ul class="nav nav-pills mb-3 tour_nav">
                <li class="nav-item active">
                    <a class="nav-link " style="color:white!important;" href="#overview">Overview & Highlights</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#inclusions">Inclusions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#exclusions">Exclusions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#itinerary">Itinerary</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#other-info">Other Info</a>
                </li>
            </ul>

            <!-- Section Content -->
            <div id="overview" class="">
                <h2 class="main-text">Tour Overview</h2>
                <p class="mt-3">
                    @t.Toverview
                </p>
                <h2 class="main-text mt-4">Tour Highlights</h2>
                <ul>
                    @foreach (var item in t.Thighlights.Split('.', StringSplitOptions.RemoveEmptyEntries))
                    {
                        <li class="my-2 mt-4">@item.Trim()</li>
                    }
                </ul>
            </div>

            <hr class="my-5" style="color:#ADBADA;border: 2px solid #ADBADA;" />

            <div class="d-flex gap-5">
                <div id="inclusions" class="section">
                    <h2 class="main-text">Inclusions</h2>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            Beverages, drinking water, morning
                            tea and buffet lunch
                        </p>
                    </div>

                    <div class="d-flex gap-2 ">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            Local taxes
                        </p>
                    </div>

                    <div class="d-flex gap-2 ">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            Hotel pickup and drop-off by
                            air-conditioned minivan
                        </p>
                    </div>

                    <div class="d-flex gap-2 ">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            InsuranceTransfer to a private pier
                        </p>
                    </div>

                    <div class="d-flex gap-2 ">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            Soft drinks
                        </p>
                    </div>

                    <div class="d-flex gap-2 ">
                        <img src="/Images/Icons/right.svg">
                        <p class="mt-3">
                            Tour Guide
                        </p>
                    </div>

                </div>

                <div id="exclusions" class="mx-5">
                    <h2 class="main-text">Exclusions</h2>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/wrong.svg">
                        <p class="mt-3">
                            Towel
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/wrong.svg">
                        <p class="mt-3">
                            Tips
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/wrong.svg">
                        <p class="mt-3">
                            Alcoholic Beverages
                        </p>
                    </div>

                </div>
            </div>

            <hr class="my-5" style="color:#ADBADA;border: 2px solid #ADBADA;" />

            <div id="itinerary" class="section">
                <h2 class="main-text">Itinerary</h2>

                @foreach (var i in Model.Itineraries)
                {
                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 1: @i.Iday1
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 2: @i.Iday2
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 3: @i.Iday3
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 4: @i.Iday4
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 5: @i.Iday5
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 6: @i.Iday6
                        </p>
                    </div>

                    <div class="d-flex gap-2 pt-2">
                        <img src="/Images/Icons/circle.svg">
                        <p class="mt-3 itinerary_font">
                            Day 7: @i.Iday7
                        </p>
                    </div>
                }
            </div>

            <hr class="my-5" style="color:#ADBADA;border: 2px solid #ADBADA;" />

            <div id="other-info" class="section mb-5">
                <h2 class="main-text">Other Info</h2>
                <div class="d-flex justify-content-between gap-5 mt-3 ">
                    <div class="must_have ">
                        <h5 class="main-text">Royal’s Must-Haves</h5>
                        <li class="mt-1">
                            Power bank, universal travel adapter, and spare chargers.
                        </li>
                        <li class="mt-1">
                            Sunscreen, insect repellent, and hand sanitizer.
                        </li>
                        <li class="mt-1">
                            Comfortable shoes for walking and exploring.
                        </li>
                        <li class="mt-1">
                            Lightweight, breathable clothes suitable for the weather.
                        </li>
                        <li class="mt-1">
                            A reusable water bottle or hydration pack.
                        </li>
                    </div>
                    <div class="safety">
                        <h5 class="main-text">Safety Precautions</h5>
                        <li class="mt-1">
                            Keep emergency contact numbers handy (local police, ambulance, and embassy).
                        </li>
                        <li class="mt-1">
                            Carry personal medications and a first-aid kit.
                        </li>
                        <li class="mt-1">
                            Avoid drinking tap water; stick to bottled or filtered water.
                        </li>
                        <li class="mt-1">
                            Stay aware of your surroundings, especially in crowded areas.
                        </li>
                    </div>
                </div>
            </div>
        </div>
        @* tabs *@

        @{
            var package = Model.Packages.FirstOrDefault();
        }
        <div class="text-center">
            @if (package != null)
            {
                <form asp-controller="Payment" asp-action="CreateOrder" method="post">
                    <input type="hidden" name="amount" value="@package.Pprice" />
                    <input type="hidden" name="pid" value="@package.Pid" />
                    <button type="submit" class="btn royalbutton text-white mb-4">
                        Book Now - ₹@package.Pprice.ToString("N2")
                    </button>
                </form>
            }
        </div>


    </section>
    @* Tour Details Page *@
}
